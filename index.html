<html>
  <script>
    //alert("hi")

    const sha256 = async (input) => {
	const textAsBuffer = new TextEncoder().encode(input);
	const hashBuffer = await window.crypto.subtle.digest("SHA-256", textAsBuffer);
	const hashArray = Array.from(new Uint8Array(hashBuffer));
	const hash = hashArray
	      .map((item) => item.toString(16).padStart(2, "0"))
	      .join("");
	return hash;
    };

    async function xsha256(data) {
    }
    async function publish() {
	hashes = [ ]

	input = document.getElementById("data")
	if (input.value.length > 0) {
	    hash = await sha256(input.value)
	    hashes.push(hash)
	}

	uploads = document.getElementById('upload')
	for (u of uploads.files) {
	    console.log(u)
	    hash = await sha256(u.text)
	    hashes.push(hash)
	}

	magnets = [ ]
	for (h of hashes) {
	    magnets.push("magnet:?xt=urn:sha256:"+h)
	}

	console.log(hashes)
	alert('Your results have been evaluated and accepted for publication!\n\
\n\
Publication ids:\n'
	      + hashes//+'\n\
//\n\
//Permanent access URLs:\n'
//	     + magnets
	     )
    }

  </script>
    <title>Journal of Konfidentiality Exceptions (JOKE)</title>
  <body>
    <h1>Journal of Konfidentiality Exceptions (JOKE)</h1>

    JOKE is a radically creative journal designed to solve research
    sustainability problems.


    <h2>Purpose</h2>

    JOKE publishes results where science and art meet technology and
    business, but is hindered by internal data security rules.
    Primarily, submissions are of information which organizational
    rules require to be classified "confidential" (limiting the use of
    common tools), but there is no reason for it to be confidential.
    Publication in JOKE is a game changer, since it allows the
    information to be classified "public", so that it can be used in
    online services such as ChatGPT or Github, and sharing with
    collaborators.


    <h2>Publication conditions</h2>

    Don't publish anything without the legal, ethical, and practical
    ability to be made public.  However, our innovative design does
    not transfer any data out of your web browser anyway.


    <h2>Submission</h2>

    <input type="file" id="upload" multiple /><br>
    Or enter free-from text:<br>
    <textarea id="data" name="data" rows="10" cols="120"></textarea>
    <br>
    <input type="submit" onclick="publish()" value="Submit">
  </body>


  <h2>Background</h2>

  Some universities have rules which state that all research data is
  "confidential", which basically means that standard open science
  practices can't be followed, nor can the latest and best tools be
  used.  The exception is that published information can be "public".
  For example, the following standard scientific practices are
  apparently not allowed:

  <ul>
    <li>Sending information for publication, since it's not published
    yet and thus still confidential (and journals aren't on the list
    of processors for confidential information).</li>
    <li>Sharing pre-publication submissions with peer reviewers (who
    are anonymous and certainly not able to be accountable to the
    original data owner).</li>
    <li>Archiving data pre-publication, as is often requested before
    peer review.</li>
    <li>Presenting work at conferences or meetings not connected to a
    publication</li>
    <li>Post-publication data sharing for reproduciblity and
    replication, with data beyond that included in the original
    publication</li>
    <li>Radical open science, where one makes their entire project
    open for the scientific community to take part in during the
    research phase itself.</li>
    <li>...</li>
  </ul>

  JOKE provides a way to publish any data, without actually being
  required to share it, so that researchers may apply a more
  appropriate security classification, do their research, and then
  share the data appropriately to its own circumstances.  Since JOKE
  does not transfer data outside of the submitter, more likely than
  other journals to receive a security rating and fit into the
  information security process.

  If you don't understand JOKE, that just shows how disconnected IT
  security rules can be from the community it's supposed to serve.


  <h2>How it works / to do</h2>

  JOKE uses Javascript to compute a sha256 hash of the uploaded
  text/data, and returns that as the publication identifier.  It
  doesn't share data, instead authors can share data as they see fit.
  There is no transfer out of the web browser, and no outside
  resources loaded.  Future plans:

  <ul>
    <li>Preparation of security evaluation, target submission data 1
      April 2024.</li>
    <li>Locally installable software, for publication without using a
    web browser.</li>
  </ul>

</html>
